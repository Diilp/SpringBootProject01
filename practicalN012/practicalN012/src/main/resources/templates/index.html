<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>User CRUD</title>
    <style>
        body { font-family: Arial; margin: 20px; }
        input, button { padding: 8px; margin: 5px; }
        table, th, td { border: 1px solid black; border-collapse: collapse; padding: 5px; }
        .error { color: red; }
    </style>
    <script>
        function validateForm() {
            let name = document.getElementById("name").value;
            if(name.trim() === "") {
                alert("User name cannot be empty!");
                return false;
            }
            return true;
        }
    </script>
</head>
<body>
<h2>Add User</h2>
<form th:action="@{/addUser}" method="post" onsubmit="return validateForm()">
    <input type="text" id="name" name="name" placeholder="Enter user name"/>
    <button type="submit">Add User</button>
</form>

<p th:text="${message}" class="error"></p>

<h2>All Users</h2>
<table>
    <tr>
        <th>ID</th>
        <th>Name</th>
    </tr>
    <tr th:each="user : ${users}">
        <td th:text="${user.id}"></td>
        <td th:text="${user.name}"></td>
    </tr>
</table>
</body>
</html>
